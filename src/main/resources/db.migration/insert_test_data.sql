-- =====================================================
-- Миграция V1.3.0: Заполнение тестовыми данными
-- =====================================================
-- Эта миграция заполняет все таблицы тестовыми данными для демонстрации функциональности
-- Создает магазины, товары и связи между ними

-- Очистка существующих данных (если есть)
DELETE FROM store_products;
DELETE FROM products;
DELETE FROM stores;

-- Заполнение таблицы stores (магазины)
-- Добавляем несколько магазинов на улице Ленина для тестирования поиска по улице
INSERT INTO stores (id, name, location, updated_at) VALUES
                                                        ('550e8400-e29b-41d4-a716-446655440001', 'Электроника Плюс', 'Москва, ул. Тверская, 15', NOW()),
                                                        ('550e8400-e29b-41d4-a716-446655440002', 'Модная одежда', 'Санкт-Петербург, Невский проспект, 28', NOW()),
                                                        ('550e8400-e29b-41d4-a716-446655440003', 'Книжный мир', 'Екатеринбург, ул. Ленина, 45', NOW()),
                                                        ('550e8400-e29b-41d4-a716-446655440004', 'Спорт товары', 'Новосибирск, ул. Ленина, 12', NOW()),
                                                        ('550e8400-e29b-41d4-a716-446655440005', 'Дом и сад', 'Казань, ул. Баумана, 8', NOW()),
                                                        ('550e8400-e29b-41d4-a716-446655440006', 'Магазин игрушек', 'Москва, ул. Ленина, 100', NOW());

-- Заполнение таблицы products (товары)
INSERT INTO products (id, name, price, category) VALUES
                                                     -- Электроника
                                                     ('660e8400-e29b-41d4-a716-446655440001', 'iPhone 15 Pro', 99999.99, 'electronics'),
                                                     ('660e8400-e29b-41d4-a716-446655440002', 'MacBook Air M2', 129999.99, 'electronics'),
                                                     ('660e8400-e29b-41d4-a716-446655440003', 'Samsung Galaxy S24', 89999.99, 'electronics'),
                                                     ('660e8400-e29b-41d4-a716-446655440004', 'Sony WH-1000XM5', 29999.99, 'electronics'),
                                                     ('660e8400-e29b-41d4-a716-446655440005', 'iPad Pro 12.9"', 89999.99, 'electronics'),

                                                     -- Одежда
                                                     ('660e8400-e29b-41d4-a716-446655440006', 'Джинсы Levis 501', 5999.99, 'clothing'),
                                                     ('660e8400-e29b-41d4-a716-446655440007', 'Куртка North Face', 15999.99, 'clothing'),
                                                     ('660e8400-e29b-41d4-a716-446655440008', 'Платье Zara', 3999.99, 'clothing'),
                                                     ('660e8400-e29b-41d4-a716-446655440009', 'Кроссовки Nike Air Max', 12999.99, 'clothing'),
                                                     ('660e8400-e29b-41d4-a716-446655440010', 'Рубашка H&M', 1999.99, 'clothing'),

                                                     -- Книги
                                                     ('660e8400-e29b-41d4-a716-446655440011', 'Война и мир', 899.99, 'books'),
                                                     ('660e8400-e29b-41d4-a716-446655440012', '1984', 599.99, 'books'),
                                                     ('660e8400-e29b-41d4-a716-446655440013', 'Гарри Поттер', 1299.99, 'books'),
                                                     ('660e8400-e29b-41d4-a716-446655440014', 'Атлас мира', 1999.99, 'books'),
                                                     ('660e8400-e29b-41d4-a716-446655440015', 'Поваренная книга', 799.99, 'books'),

                                                     -- Спорт
                                                     ('660e8400-e29b-41d4-a716-446655440016', 'Гантели 10кг', 2999.99, 'sports'),
                                                     ('660e8400-e29b-41d4-a716-446655440017', 'Велосипед Trek', 49999.99, 'sports'),
                                                     ('660e8400-e29b-41d4-a716-446655440018', 'Беговая дорожка', 89999.99, 'sports'),
                                                     ('660e8400-e29b-41d4-a716-446655440019', 'Йога-мат', 1999.99, 'sports'),
                                                     ('660e8400-e29b-41d4-a716-446655440020', 'Футбольный мяч', 1999.99, 'sports'),

                                                     -- Дом и сад
                                                     ('660e8400-e29b-41d4-a716-446655440021', 'Кофемашина Delonghi', 24999.99, 'home'),
                                                     ('660e8400-e29b-41d4-a716-446655440022', 'Пылесос Dyson', 39999.99, 'home'),
                                                     ('660e8400-e29b-41d4-a716-446655440023', 'Горшок для цветов', 599.99, 'home'),
                                                     ('660e8400-e29b-41d4-a716-446655440024', 'Лампа настольная', 2999.99, 'home'),
                                                     ('660e8400-e29b-41d4-a716-446655440025', 'Шторы', 4999.99, 'home'),

                                                     -- Игрушки (для магазина игрушек)
                                                     ('660e8400-e29b-41d4-a716-446655440026', 'Кукла Барби', 2999.99, 'toys'),
                                                     ('660e8400-e29b-41d4-a716-446655440027', 'Конструктор LEGO', 4999.99, 'toys'),
                                                     ('660e8400-e29b-41d4-a716-446655440028', 'Мягкая игрушка', 1999.99, 'toys'),
                                                     ('660e8400-e29b-41d4-a716-446655440029', 'Настольная игра', 1499.99, 'toys'),
                                                     ('660e8400-e29b-41d4-a716-446655440030', 'Пазл 1000 деталей', 999.99, 'toys');

-- Заполнение таблицы store_products (связи магазин-товар)
-- Электроника Плюс (дорогие товары)
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          ('770e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440001'), -- iPhone 15 Pro
                                                          ('770e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440002'), -- MacBook Air M2
                                                          ('770e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440003'), -- Samsung Galaxy S24
                                                          ('770e8400-e29b-41d4-a716-446655440004', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440004'), -- Sony WH-1000XM5
                                                          ('770e8400-e29b-41d4-a716-446655440005', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440005'); -- iPad Pro

-- Модная одежда (средние цены)
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          ('770e8400-e29b-41d4-a716-446655440006', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440006'), -- Джинсы Levis
                                                          ('770e8400-e29b-41d4-a716-446655440007', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440007'), -- Куртка North Face
                                                          ('770e8400-e29b-41d4-a716-446655440008', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440008'), -- Платье Zara
                                                          ('770e8400-e29b-41d4-a716-446655440009', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440009'), -- Кроссовки Nike
                                                          ('770e8400-e29b-41d4-a716-446655440010', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440010'); -- Рубашка H&M

-- Книжный мир (дешевые товары)
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          ('770e8400-e29b-41d4-a716-446655440011', '550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440011'), -- Война и мир
                                                          ('770e8400-e29b-41d4-a716-446655440012', '550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440012'), -- 1984
                                                          ('770e8400-e29b-41d4-a716-446655440013', '550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440013'), -- Гарри Поттер
                                                          ('770e8400-e29b-41d4-a716-446655440014', '550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440014'), -- Атлас мира
                                                          ('770e8400-e29b-41d4-a716-446655440015', '550e8400-e29b-41d4-a716-446655440003', '660e8400-e29b-41d4-a716-446655440015'); -- Поваренная книга

-- Спорт товары (разные цены)
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          ('770e8400-e29b-41d4-a716-446655440016', '550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440016'), -- Гантели
                                                          ('770e8400-e29b-41d4-a716-446655440017', '550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440017'), -- Велосипед
                                                          ('770e8400-e29b-41d4-a716-446655440018', '550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440018'), -- Беговая дорожка
                                                          ('770e8400-e29b-41d4-a716-446655440019', '550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440019'), -- Йога-мат
                                                          ('770e8400-e29b-41d4-a716-446655440020', '550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440020'); -- Футбольный мяч

-- Дом и сад (средние цены)
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          ('770e8400-e29b-41d4-a716-446655440021', '550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440021'), -- Кофемашина
                                                          ('770e8400-e29b-41d4-a716-446655440022', '550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440022'), -- Пылесос
                                                          ('770e8400-e29b-41d4-a716-446655440023', '550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440023'), -- Горшок
                                                          ('770e8400-e29b-41d4-a716-446655440024', '550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440024'), -- Лампа
                                                          ('770e8400-e29b-41d4-a716-446655440025', '550e8400-e29b-41d4-a716-446655440005', '660e8400-e29b-41d4-a716-446655440025'); -- Шторы

-- Магазин игрушек (уникальные товары - только в одном магазине)
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          ('770e8400-e29b-41d4-a716-446655440026', '550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440026'), -- Кукла Барби
                                                          ('770e8400-e29b-41d4-a716-446655440027', '550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440027'), -- Конструктор LEGO
                                                          ('770e8400-e29b-41d4-a716-446655440028', '550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440028'), -- Мягкая игрушка
                                                          ('770e8400-e29b-41d4-a716-446655440029', '550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440029'), -- Настольная игра
                                                          ('770e8400-e29b-41d4-a716-446655440030', '550e8400-e29b-41d4-a716-446655440006', '660e8400-e29b-41d4-a716-446655440030'); -- Пазл

-- Дополнительные связи для демонстрации фильтрации
-- Добавляем некоторые товары в несколько магазинов
INSERT INTO store_products (id, store_id, product_id) VALUES
                                                          -- iPhone есть в двух магазинах
                                                          ('770e8400-e29b-41d4-a716-446655440031', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440001'), -- iPhone в Модной одежде
                                                          -- Книги есть в двух магазинах
                                                          ('770e8400-e29b-41d4-a716-446655440032', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440011'), -- Война и мир в Электронике
                                                          ('770e8400-e29b-41d4-a716-446655440033', '550e8400-e29b-41d4-a716-446655440004', '660e8400-e29b-41d4-a716-446655440011'); -- Война и мир в Спорт товарах
